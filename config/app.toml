[welds]
uri = "postgres://demo:demo@localhost:5432/demo" # Database address
min_connections = 1        # Minimum number of connections in the connection pool, the default value is 1
max_connections = 10       # Maximum number of connections in the connection pool, the default value is 10
acquire_timeout = 30000    # Connection timeout, in milliseconds, default 30s
idle_timeout = 600000      # Connection idle time, in milliseconds, default 10min
connect_timeout = 1800000  # Maximum connection survival time, in milliseconds, default 30min
enable_logging = true      # Print sql log

[web]
port = 8080
connect_info = true
graceful = true

[web.openapi]
doc_prefix = "/docs"
info = { title = "autowds api document", version = "0.0.1" }

[web.middlewares]
compression = { enable = true }                        # Enable compression middleware
catch_panic = { enable = true }                        # Capture panic generated by handler
logger = { enable = true, level = "info" }             # Enable log middleware
limit_payload = { enable = true, body_limit = "5MB" }  # Limit request body size
timeout_request = { enable = true, timeout = 60000 }   # Request timeout 60s

# Cross-domain configuration
cors = { enable = true, allow_origins = [
    "*.github.io",
], allow_headers = [
    "Authentication",
], allow_methods = [
    "GET",
    "POST",
], max_age = 60 }

# Static resource configuration
static = { enable = true, uri = "/static", path = "static", precompressed = true, fallback = "index.html" }

[mail]
host = "smtp.163.com"                                                      # SMTP mail server address,
port = 465                                                                 # SMTP server port number
secure = true                                                              # Response timeout, in milliseconds
auth = { user = "hff1996723@163.com", password = "${MAIL_AUTH_PASSWORD}" } # Authentication information
stub = true

[email]
from = "demo@demo.fr"

[utoipa]
visualizer_path = "/docs"
path = "/openapi.json"

